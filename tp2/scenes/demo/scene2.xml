<?xml version="1.0" encoding="UTF-16" standalone="yes"?>
<yaf> 
	
    <globals background="0 0 0 1" ambient="0.1 0.1 0.1 1" /> 

    <fog color="1.0 1.0 1.0 1.0" near="0.0" far="100.0" />

    <cameras initial="cam1" > 
        <perspective id="cam1" 
            angle="60" 
            near="0.1" 
            far="1000" 
            location="15 15 15" 
            target="0 0.0 0" /> 

        <orthogonal id="cam2" 
            near="0.1" 
            far="1000" 
            location="0 15 15" 
            target="0.0 15 0.0" 
            left="-5" 
            right="5" 
            bottom="-5" 
            top="-5" /> 
    </cameras> 

    <textures>        
        <texture id="stoneBrickTex" filepath="scenes/demo/textures/stonebrick.png" />
        <texture id="stoneColumnTex" filepath="scenes/demo/textures/stonecolumn.png" />
        <texture id="stoneSlabTex" filepath="scenes/demo/textures/stoneslab.png" />
        <texture id="grassFloorTex" filepath="scenes/demo/textures/grass.png" />
        <texture id="treeLeavesTex" filepath="scenes/demo/textures/treeleaves.png" />
        <texture id="treeLogTex" filepath="scenes/demo/textures/treelog.png" />
        <texture id="waterTex" filepath="scenes/demo/textures/water.png" />
    </textures> 

    <materials> 
			
		<material id="stoneBrickMat" 
            emissive="0.0 0.0 0.0 1" 
			color="0.4 0.4 0.4 1.0" 
            specular="0 0 0 0" 
            shininess="0" 
            textureref="stoneBrickTex"
            texlength_s="10" 
            texlength_t="10" 
            twosided = "true" />

        <material id="stoneBrickBeamMat" 
            emissive="0.0 0.0 0.0 1" 
			color="0.4 0.4 0.4 1.0" 
            specular="0 0 0 0" 
            shininess="0" 
            textureref="stoneBrickTex"
            texlength_s="1" 
            texlength_t="10" 
            twosided = "true" />
    
        <material id="stoneBrickColumnMat" 
            emissive="0.0 0.0 0.0 1" 
			color="0.4 0.4 0.4 1.0" 
            specular="0 0 0 0" 
            shininess="0" 
            textureref="stoneBrickTex"
            texlength_s="1" 
            texlength_t="10" 
            twosided = "true" />

        <material id="stoneColumnMat" 
            emissive="0.0 0.0 0.0 1" 
			color="0.4 0.4 0.4 1.0" 
            specular="0 0 0 0" 
            shininess="0" 
            textureref="stoneColumnTex"
            texlength_s="5" 
            texlength_t="1" 
            twosided = "true" />

        <material id="stoneSlabMat" 
            emissive="0.0 0.0 0.0 1" 
			color="0.4 0.4 0.4 1.0" 
            specular="0 0 0 0" 
            shininess="0" 
            textureref="stoneSlabTex"
            texlength_s="20" 
            texlength_t="10" 
            twosided = "true" />
		
		<material id="grassFloorMat" 
            emissive="0.0 0.0 0.0 1" 
            color="0.5 0.5 0.5 1.0"  
            specular="0 0 0 0" 
            shininess="0" 
            textureref="grassFloorTex" 
            texlength_s="15" 
            texlength_t="15" 
            twosided = "true" />

        <material id="treeLeavesMat" 
            emissive="0.0 0.0 0.0 1" 
            color="0.8 0.8 0.8 1.0"  
            specular="0 0 0 0" 
            shininess="0" 
            textureref="treeLeavesTex" 
            texlength_s="2" 
            texlength_t="8" 
            twosided = "true" />

        <material id="treeLogMat" 
            emissive="0.0 0.0 0.0 1" 
            color="0.8 0.8 0.8 1.0"  
            specular="0 0 0 0" 
            shininess="0" 
            textureref="treeLogTex" 
            texlength_s="15" 
            texlength_t="15" 
            twosided = "true" />

        <material id="waterMat" 
            emissive="0.0 0.0 0.0 1" 
			color="0.4 0.4 0.4 1.0" 
            specular="0 0 0 0" 
            shininess="0" 
            textureref="waterTex"
            texlength_s="10" 
            texlength_t="10" 
            twosided = "true" />

    </materials> 

    <graph rootid="scene"> 
		
		<node id="scene"> 
            <children> 
            
                <!-- walls-->
                <noderef id="wall1" />
                <noderef id="wall2" />
                <noderef id="wall3" />
                <noderef id="wall4" />
                <noderef id="wall5" />
                <noderef id="wall6" />
                <noderef id="wall7" />
                <noderef id="wall8" />

                <!-- floors -->
                <!--noderef id="floorBase" /-->
				<noderef id="floorMain" /> 
                <noderef id="entranceBridge" />
                <noderef id="balcony" />

                <!-- water -->
                <noderef id="water" />
				 
                <!-- trees -->
				<noderef id="tree1" /> 
				<noderef id="tree2" /> 
				<noderef id="tree3" /> 
                
                <!-- lights -->
                <pointlight id="light1" enabled="true" 
                    color="0.5 0.6 0.8 1" 
                    intensity="1.0"
                    distance="1000"
                    decay="2.0"
                    castshadow="true"
                    position="0 7 0" 
                /> 

                <pointlight id="light2" enabled="true" 
                    color="0.5 0.6 0.8 1" 
                    intensity="1.0"
                    distance="1000"
                    decay="2.0"
                    castshadow="true"
                    position="0 7 0"
                /> 
                
                <pointlight id="light3" enabled="true" 
                    color="0.5 0.6 0.8 1" 
                    intensity="1.0"
                    distance="1000"
                    decay="2.0"
                    castshadow="true"
                    position="0 7 0"  
                /> 
			              
                <directionallight id="sunLight" enabled="true" 
                    color="1.0 1.0 1.0 1" 
                    intensity="2.0"
                    castshadow="true"
                    position="-3 7 -3" 
                /> 

                <spotlight id="sunHelper" enabled="true" 
                    color="1.0 0.9 0.3 1" 
                    intensity="30.0"
                    distance="100"
                    decay="1.0"
                    castshadow="true"
                    position="-1 10 1" 
                    target="-4 0 -2"
                    penumbra="1.0"
                    angle="60" 
                /> 
                
            </children> 
        </node>

        <!-- COLUMNS -->

        <node id="columnModel">

            <transforms>
                <translate value3="3.5 3.5 0" />
            </transforms>

            <children>
                <noderef id="columnMain" />
                <noderef id="columnDecoration" />
            </children>
        </node>

        <node id="columnMain">

            <materialref id="stoneColumnMat" />

            <children>
                <primitive>
                    <cylinder base="0.5" top="0.5" height="7" slices="32" stacks="32" />
                </primitive>
            </children>
        </node>

        <node id="columnDecoration">

            <transforms>
                <translate value3="0 3.5 0" />
            </transforms>

            <materialref id="stoneBrickColumnMat" />

            <children>
                 <primitive>
                    <cylinder base="0.6" top="0.7" height="0.7" slices="32" stacks="32" />
                </primitive>
            </children>
        </node>

        <!-- BEAMS-->

        <node id="beamModel">

            <transforms>
                <translate value3="0 6.8 0" />
            </transforms>

            <materialref id="stoneBrickBeamMat" />

            <children>
                <primitive>
                    <box xyz1="-3.5 0 0" xyz2="3.5 0.4 0.2" />
                </primitive>
            </children>
        </node>

        <!-- WALLS -->

        <node id="wallModel">

            <materialref id="stoneBrickMat" />

            <children>
                <noderef id="columnModel" />
                <noderef id="beamModel" />
                <primitive>          
                    <rectangle xy1="-3.5 0" xy2="3.5 7" /> 
                </primitive> 
            </children>
        </node>

        <node id="wall1"> 

            <transforms>
				<translate value3="0 0 -8.45" />
				<rotate value3="0.0 0.0 0.0" />
            </transforms> 

            <children>
                <noderef id="wallModel" />
            </children> 
        </node>

        <node id="wall2"> 

            <transforms>
				<translate value3="5.97 0 -5.97" />
				<rotate value3="0.0 -45.0 0.0" />
            </transforms> 

            <children>   
                 <noderef id="wallModel" />
            </children> 
        </node>

        <node id="wall3"> 

            <transforms>
				<translate value3="8.45 0 0" />
				<rotate value3="0.0 -90.0 0.0" />
            </transforms> 

            <children>   
                 <noderef id="wallModel" /> 
            </children> 
        </node>

        <node id="wall4"> 

            <transforms>
				<translate value3="5.97 0 5.97" />
				<rotate value3="0.0 -135.0 0.0" />
            </transforms> 

            <children>   
                 <noderef id="wallModel" />
            </children> 
        </node>

        <node id="wall5"> 

            <transforms>
				<translate value3="0 0 8.45" />
				<rotate value3="0.0 -180.0 0.0" />
            </transforms> 

            <children>   
                 <noderef id="wallModel" />
            </children> 
        </node>

        <node id="wall6"> 

            <transforms>
				<translate value3="-5.97 0 5.97" />
				<rotate value3="0.0 -225.0 0.0" />
            </transforms> 

            <children>   
                <noderef id="wallModel" />
            </children> 
        </node>

        <node id="wall7"> 

            <transforms>
				<translate value3="-8.45 0 0" />
				<rotate value3="0.0 -270.0 0.0" />
            </transforms> 

            <children>   
                 <noderef id="wallModel" />
            </children> 
        </node>

        <node id="wall8"> 

            <transforms>
				<translate value3="-5.97 0 -5.97" />
				<rotate value3="0.0 -315.0 0.0" />
            </transforms> 

            <children>   
                 <noderef id="wallModel" />
            </children> 
        </node>

        <!-- FLOORS -->

        <node id="floorBase">

            <transforms>
                <rotate value3="-90 0 0" />
            </transforms>

            <children>
                <primitive>
                    <rectangle xy1="-8.5 -8.5" xy2="8.5 8.5" />
                </primitive>
            </children>
        </node>

		<node id="floorMain"> 

            <transforms>
				<rotate value3="0.0 22.5 0.0" />
                <translate value3="0 0.75 0" />
            </transforms> 

            <materialref id="grassFloorMat" />

            <children>   
                <primitive>          
                    <cylinder base="7" top="7" height="1.5" slices="8" stacks="32" />
                </primitive> 
            </children> 
        </node>

        <node id="entranceBridge">
            <transforms>
                <translate value3="0 1.3 0" />
            </transforms>

            <materialref id="stoneSlabMat" />

            <children>
                <primitive>
                    <box xyz1="9 0 -1.6" xyz2="6.465 0.2 1.6" />
                </primitive>
            </children>
        </node>

        <!-- BALCONY -->

        <!-- STAIRS -->

        <node id="stepModel">
            <materialref id="stoneSlabMat" />
            <children>
                <primitive>
                    <box xyz1="0.1 0 -0.9" xyz2="-0.1 0.2 0.9" />
                </primitive>
            </children>
        </node>

        <node id="step1">
            <transforms>
                <translate value3="0 0 0" />
            </transforms>
            <children>
                <noderef id="stepModel" />
            </children>
        </node>

        <node id="step2">
            <transforms>
                <translate value3="-0.2 0.1 0" />
            </transforms>
            <children>
                <noderef id="stepModel" />
            </children>
        </node>

        <node id="step3">
            <transforms>
                <translate value3="-0.4 0.2 0" />
            </transforms>
            <children>
                <noderef id="stepModel" />
            </children>
        </node>

        <node id="stairs">
            <transforms>
                <translate value3="-6.75 0.1 0" />
            </transforms>

            <children>
                <noderef id="step1"/>
                <noderef id="step2"/>
                <noderef id="step3"/>
            </children>

        </node>
        
        <!-- RAILS -->

        <node id="diagonalRails">
            <transforms>
                <rotate value3="0 0 -30" />
            </transforms>

            <materialref id="stoneSlabMat" />

            <children>
                <primitive>
                    <box xyz1="0.4 0 -0.4" xyz2="-0.4 0.4 0.4" />
                </primitive>
            </children>
        </node>

        <node id="sideRails">

            <transforms>
                <translate value3="-0.795 0 0" />
            </transforms>

            <materialref id="stoneSlabMat" />
            
            <children>
                <primitive>
                    <box xyz1="0.65 0 -0.4" xyz2="-0.65 0.55 0.4" />
                </primitive>
            </children>
        </node>

        <node id="balconyRailModel">
            <transforms>
                <translate value3="-7.02 0.055 0" />
            </transforms>
           
            <children>
               <noderef id="diagonalRails" />
               <noderef id="sideRails" />
            </children>
        </node>

        <node id="balconyRail1">

            <transforms>
                <translate value3="0 0 1.18" />
            </transforms>

            <children>
                <noderef id="balconyRailModel" />
            </children>
        </node>

        <node id="balconyRail2">

            <transforms>
                <translate value3="0 0 -1.18" />
            </transforms>

            <children>
                <noderef id="balconyRailModel" />
            </children>
        </node>

        <node id="balcony">
            <transforms>
                <translate value3="0 1.3 0" />
            </transforms>

            <materialref id="stoneSlabMat" />

            <children>
                <noderef id="balconyRail1" />
                <noderef id="balconyRail2" />
                <noderef id="stairs" />
                <primitive>
                    <box xyz1="-9 0 -1.6" xyz2="-6.465 0.2 1.6" />
                </primitive>
                <primitive>
                    <box xyz1="-9 0.35 -1" xyz2="-7.25 0.5 1" />
                </primitive>
            </children>
        </node>

        <!-- WATER -->

        <node id="water">

            <transforms>
                <rotate value3="-90 0 0" />
                <translate value3="0 0 1" />
            </transforms>

            <materialref id="waterMat" />

            <children>
                <primitive>
                    <rectangle xy1="-8.5 -8.5" xy2="8.5 8.5" />
                </primitive>
            </children>
        </node>

        <!-- TREES -->

        <node id="trunk">
			<transforms>
				<translate value3="0 1.7 0" />
			</transforms> 
			
			<materialref id="treeLogMat" />
			
            <children>             
                <primitive>
                    <cylinder base="0.4" top="0.4" height="3" slices="32" stacks="32" />
                </primitive>
            </children> 
        </node>
		
		<node id="treeSeg1">
			<transforms>
				<translate value3="0 2.7 0" />
            </transforms> 
			
			<materialref id="treeLeavesMat" />
			
            <children>             
                <primitive>
                    <cylinder base="2" top="1" height="1.9" slices="32" stacks="32" />
                </primitive>
            </children> 
        </node>
		
		<node id="treeSeg2">
			<transforms>
				<translate value3="0 4.6 0" />
            </transforms> 
			
			<materialref id="treeLeavesMat" />
			
            <children>
                <primitive >
                    <cylinder base="1.5" top="0.75" height="2" slices="32" stacks="32" />
                </primitive>
            </children> 
        </node>
		
		<node id="treeSeg3">
			<transforms>
				<translate value3="0 6.6 0" />
            </transforms> 
			
			<materialref id="treeLeavesMat" />
			
            <children>             
                <primitive>
                    <cylinder base="0.9" top="0" height="2" slices="32" stacks="32" />
                </primitive>

            </children> 
        </node>
		
		<node id="tree1">
			<transforms>
                <scale value3="0.4 0.6 0.4" />
				<translate value3="10 1 -10" />
				<rotate value3="0.0 0.0 0.0"/>
            </transforms> 
			
            <children>             
				<noderef id="trunk" />
				<noderef id="treeSeg1" />
				<noderef id="treeSeg2" />
				<noderef id="treeSeg3" />
                <primitive>
                    <nurbs degree_u="1" degree_v="1" parts_u="20" parts_v="20" distance="0.0">
                        <controlpoint xx="0" yy="0" zz="0" />
                        <controlpoint xx="0" yy="0" zz="1" />
                        <controlpoint xx="1" yy="0" zz="0" />
                        <controlpoint xx="1" yy="0" zz="1" />
                    </nurbs>
                </primitive>

            </children> 
        </node>

        <node id="tree2">
			<transforms>
				<translate value3="-3.2 1 4.7" />
				<rotate value3="0.0 0.0 0.0"/>
                 <scale value3="0.2 0.5 0.2" />
            </transforms> 
			
            <children>             
				<noderef id="trunk" />
				<noderef id="treeSeg1" />
				<noderef id="treeSeg2" />
				<noderef id="treeSeg3" />
                <primitive>
                    <nurbs degree_u="1" degree_v="1" parts_u="20" parts_v="20" distance="0.0">
                        <controlpoint xx="0" yy="0" zz="0" />
                        <controlpoint xx="0" yy="0" zz="1" />
                        <controlpoint xx="1" yy="0" zz="0" />
                        <controlpoint xx="1" yy="0" zz="1" />
                    </nurbs>
                </primitive>

            </children> 
        </node>

        <node id="tree3">
			<transforms>
				<translate value3="-4.7 1 3.7" />
				<rotate value3="0.0 0.0 0.0"/>
                 <scale value3="0.2 0.4 0.2" />
            </transforms> 
			
            <children>             
				<noderef id="trunk" />
				<noderef id="treeSeg1" />
				<noderef id="treeSeg2" />
				<noderef id="treeSeg3" />
                <primitive>
                    <nurbs degree_u="1" degree_v="1" parts_u="20" parts_v="20" distance="0.0">
                        <controlpoint xx="0" yy="0" zz="0" />
                        <controlpoint xx="0" yy="0" zz="1" />
                        <controlpoint xx="1" yy="0" zz="0" />
                        <controlpoint xx="1" yy="0" zz="1" />
                    </nurbs>
                </primitive>

            </children> 
        </node>
		
    </graph> 
</yaf> 