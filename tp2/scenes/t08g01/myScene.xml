<?xml version="1.0" encoding="UTF-16" standalone="yes"?>
<yaf>
    <globals background="0.1 0.1 0.1 1" ambient="0.8 0.8 0.8 1" />

    <fog color="0 0 0 0" near="0.0" far="250.0" />

    <cameras initial="cam1">
        <perspective id="cam1"
            angle="60"
            near="0.1"
            far="1000"
            location="40 40 40"
            target="0 0 0" />

        <orthogonal id="cam2"
            near="-50"
            far="100"
            location="0 0 20"
            target="0 0 0"
            left="-5"
            right="5"
            bottom="-5"
            top="5" />
    </cameras>


    <textures>
        <texture id="floorTex" filepath="scenes/demo/textures/floor.jpg" />
        <texture id="energyTex" filepath="scenes/demo/textures/energy.jpg" />
        <texture id="petalTex" filepath="scenes/demo/textures/petal.jpg" />
        <texture id="metalTex" filepath="scenes/demo/textures/metal.jpg" />
        <texture id="gridTex" filepath="scenes/demo/textures/grid.jpg" />
        <texture id="holoTex1" filepath="scenes/demo/textures/holo1.jpg" />
        <texture id="holoTex2" filepath="scenes/demo/textures/holo2.jpg" />
        <texture id="moving_stars" filepath="scenes/demo/textures/moving_stars.jpg" />
    </textures>

    <materials>

        <material id="wallMat"
            emissive="0.0 0.0 0.0 1"
            color="0.05 0.05 0.05 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="metalTex"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="holoMat1"
            emissive="0.0 0.0 0.0 1"
            color="0.5 0.5 0.7 1.0"
            specular="0.3 0.3 0.3 0"
            shininess="100"
            textureref="holoTex1"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />


        <material id="holoMat2"
            emissive="0.0 0.0 0.0 1"
            color="0.5 0.5 0.7 1.0"
            specular="0.3 0.3 0.3 0"
            shininess="100"
            textureref="holoTex2"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="floorMat"
            emissive="0.0 0.0 0.0 1"
            color="0.20 0.20 0.20 1.0"
            specular="0 0 0 0"
            shininess="0"
            texlength_s="1"
            texlength_t="1"
            textureref="floorTex"
            twosided="true" />

        <material id="energyMat"
            emissive="0 0.05 0.1 1"
            color="0.5 0.7 0.7 1.0"
            specular="0.5 0.5 0.7 0"
            shininess="100"
            textureref="energyTex"
            texlength_s="1"
            texlength_t="1"
            twosided="false" />

        <material id="petalMat"
            emissive="0.0 0.0 0.0 1"
            color="0.1 0.1 0.15 1.0"
            specular="0.0 0.2 0.2 0"
            shininess="100"
            textureref="petalTex"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="metalMat"
            emissive="0.0 0.0 0.0 1"
            color="0.20 0.20 0.20 1.0"
            specular="0.5 0.5 0.5 1.0"
            shininess="30"
            textureref="metalTex"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="metallicMaterial"
            emissive="0.0 0.0 0.0 1.0"
            color="0.0 0.0 0.0 1.0"
            specular="1.0 1.0 1.0 1.0"
            shininess="50"
            twosided="true" />

        <material id="controlFlowTape"
            emissive="0.0 0.0 0.0 1.0"
            color="1.0 0.10 0.10 1.0"
            specular="0.2 0.1 0.1 1.0"
            shininess="50"
            textureref="metalTex"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="gridMat"
            emissive="0.0 0.0 0.0 1"
            color="0.10 0.10 0.10 1.0"
            specular="0.1 0.1 0.4 1.0"
            shininess="30"
            textureref="gridTex"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="windowMat"
            emissive="0.0 0.0 0.0 1"
            color="0.10 0.10 0.10 1.0"
            specular="0.0 0.0 0.04 1.0"
            shininess="30"
            textureref="moving_stars"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />

        <material id="borderMat"
            emissive="0.0 0.0 0.0 1.0"
            color="0 0 0 1.0"
            specular="0.2 0.1 0.1 1.0"
            shininess="50"
            textureref="metalTex"
            texlength_s="1"
            texlength_t="1"
            twosided="true" />


    </materials>

    <graph rootid="scene">

        <node id="scene">
            <children>
                <noderef id="room" />
                <noderef id="lights" />
                <noderef id="statue" />
                <noderef id="controlTable" />
                <noderef id="noPassage" />
                <noderef id="window" />

                <primitive>
                    <skybox
                        width="150"
                        height="150"
                        depth="150"
                        texture_lt_ref="scenes/demo/textures/skybox/left.png"
                        texture_rt_ref="scenes/demo/textures/skybox/right.png"
                        texture_ft_ref="scenes/demo/textures/skybox/front.png"
                        texture_bk_ref="scenes/demo/textures/skybox/back.png"
                        texture_up_ref="scenes/demo/textures/skybox/top.png"
                        texture_dn_ref="scenes/demo/textures/skybox/bottom.png" />
                </primitive>


            </children>
        </node>

        <node id="border1">
            <materialref id="borderMat" />

            <transforms>
                <translate value3="0 0 0" />

            </transforms>

            <children>
                <primitive>
                    <box xyz1="-0.2 0 -0.2" xyz2="0.2 10 0.2" />
                </primitive>
            </children>
        </node>

        <node id="border2">
            <materialref id="borderMat" />

            <transforms>
                <translate value3="20 0 0" />

            </transforms>

            <children>
                <primitive>
                    <box xyz1="-0.2 0 -0.2" xyz2="0.2 10 0.2" />
                </primitive>
            </children>
        </node>

        <node id="border4">
            <materialref id="borderMat" />

            <transforms>
                <translate value3="20 10 0" />
                <rotate value3="0 0 90.0" />
            </transforms>

            <children>
                <primitive>
                    <box xyz1="-0.2 0 -0.2" xyz2="0.2 20 0.2" />
                </primitive>
            </children>
        </node>

        <node id="border3">

            <materialref id="borderMat" />

            <transforms>
                <translate value3="20 0 0" />
                <rotate value3="0 0 90.0" />
            </transforms>

            <children>
                <primitive>
                    <box xyz1="-0.2 0 -0.2" xyz2="0.2 20 0.2" />
                </primitive>
            </children>
        </node>

        <node id="window">

            <materialref id="windowMat" />

            <transforms>
                <translate value3="0.1 5 30" />
                <rotate value3="0.0 90 0.0" />
            </transforms>

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="20 10" />
                </primitive>
                <noderef id="border1" />
                <noderef id="border2" />
                <noderef id="border3" />
                <noderef id="border4" />
            </children>
        </node>

        <node id="support">
            <materialref id="metallicMaterial" />

            <children>
                <primitive>
                    <cylinder base="0.2" top="0.2" height="4.3" slices="32" stacks="32" />
                </primitive>
            </children>
        </node>

        <node id="support1">
            <transforms>
                <translate value3="6.3 0 6.3" />
            </transforms>

            <children>
                <noderef id="support" />
            </children>
        </node>

        <node id="support2">
            <transforms>
                <translate value3="6.3 0 -6.3" />
            </transforms>

            <children>
                <noderef id="support" />
            </children>
        </node>

        <node id="support3">
            <transforms>
                <translate value3="-6.3 0 6.3" />
            </transforms>

            <children>
                <noderef id="support" />
            </children>
        </node>

        <node id="support4">
            <transforms>
                <translate value3="-6.3 0 -6.3" />
            </transforms>

            <children>
                <noderef id="support" />
            </children>
        </node>

        <node id="tape1">
            <transforms>
                <translate value3="0 0 6.3" />
            </transforms>

            <children>
                <noderef id="tape" />
            </children>
        </node>

        <node id="tape2">
            <transforms>
                <translate value3="0 0 -6.3" />
            </transforms>
            <children>
                <noderef id="tape" />
            </children>
        </node>

        <node id="tape3">
            <transforms>
                <rotate value3="0 90 0" />
                <translate value3="6.3 0 0" />
            </transforms>
            <children>
                <noderef id="tape" />
            </children>
        </node>

        <node id="tape4">
            <transforms>
                <rotate value3="0 90 0" />
                <translate value3="-6.3 0 0" />
            </transforms>
            <children>
                <noderef id="tape" />
            </children>
        </node>

        <node id="tape">
            <transforms>
                <translate value3="0 1.5 0" />
            </transforms>

            <materialref id="controlFlowTape" />

            <children>
                <primitive>
                    <rectangle xy1="-6.3 -0.2" xy2="6.3 0.2" />
                </primitive>
            </children>
        </node>

        <node id="noPassage">
            <transforms>
                <translate value3="19 2.3 19" />
            </transforms>

            <children>
                <noderef id="support1" />
                <noderef id="support2" />
                <noderef id="support3" />
                <noderef id="support4" />
                <noderef id="tape1" />
                <noderef id="tape2" />
                <noderef id="tape3" />
                <noderef id="tape4" />

            </children>
        </node>

        <node id="box_primitive">
            <children>
                <primitive>
                    <box xyz1="0 0 0" xyz2="0.1 0.1 5" />
                </primitive>
            </children>
        </node>


        <node id="statue">
            <transforms>
                <translate value3="19 5 19" />
                <scale value3="0.3 0.3 0.3" />
            </transforms>
            <children>
                <noderef id="petal1" />
                <noderef id="petal2" />
                <noderef id="statue_base" />
                <noderef id="statue_support" />
                <noderef id="statue_orb" />
            </children>
        </node>

        <node id="petal1">
            <transforms>
                <translate value3="-8 2.1 0" />
                <rotate value3="0 -140 180" />
                <scale value3="-1.8 1.8 1.8" />
            </transforms>

            <materialref id="petalMat" />

            <children>
                <primitive>
                    <nurbs degree_u="3" degree_v="3" parts_u="20" parts_v="20" distance="0.0">
                        <controlpoint xx="-3.7587" yy="7.4253" zz="-7.0358" />
                        <controlpoint xx="-4.1714" yy="7.7100" zz="-2.8631" />
                        <controlpoint xx="-4.5392" yy="4.7239" zz="-0.5660" />
                        <controlpoint xx="-3.7184" yy="1.9386" zz="1.1301" />
                        <controlpoint xx="-0.4328" yy="8.2464" zz="-4.4766" />
                        <controlpoint xx="2.4964" yy="8.5149" zz="3.1218" />
                        <controlpoint xx="0.8511" yy="-0.4023" zz="4.7506" />
                        <controlpoint xx="-3.2371" yy="-0.4759" zz="2.9228" />
                        <controlpoint xx="3.7527" yy="3.8389" zz="-4.5952" />
                        <controlpoint xx="4.6195" yy="0.6416" zz="2.1127" />
                        <controlpoint xx="2.5690" yy="-6.9368" zz="4.6903" />
                        <controlpoint xx="-1.5608" yy="-6.9683" zz="2.9267" />
                        <controlpoint xx="3.8310" yy="-0.3803" zz="-2.8151" />
                        <controlpoint xx="4.1321" yy="-4.9245" zz="-0.7362" />
                        <controlpoint xx="2.3483" yy="-8.4578" zz="1.8869" />
                        <controlpoint xx="-3.1818" yy="-14.4938" zz="-0.4539" />
                    </nurbs>
                </primitive>
            </children>
        </node>

        <node id="petal2">
            <transforms>
                <translate value3="0 -6.1 -5" />
                <rotate value3="160 210 0" />
                <scale value3="1 1 -1" />
            </transforms>

            <materialref id="petalMat" />

            <children>
                <primitive>
                    <nurbs degree_u="3" degree_v="3" parts_u="20" parts_v="20" distance="0.0">
                        <controlpoint xx="-4.1409" yy="8.1963" zz="-6.7477" />
                        <controlpoint xx="-5.2433" yy="8.6658" zz="-2.2253" />
                        <controlpoint xx="-8.0898" yy="4.4550" zz="3.1984" />
                        <controlpoint xx="-4.8990" yy="0.7785" zz="3.4602" />
                        <controlpoint xx="0.0939" yy="6.5559" zz="-3.1643" />
                        <controlpoint xx="4.5325" yy="6.7413" zz="2.0824" />
                        <controlpoint xx="-2.5443" yy="0.6903" zz="6.5322" />
                        <controlpoint xx="-2.1246" yy="-3.0621" zz="3.8393" />
                        <controlpoint xx="2.7659" yy="2.8954" zz="-4.3687" />
                        <controlpoint xx="3.6535" yy="1.7439" zz="3.4139" />
                        <controlpoint xx="6.4013" yy="-4.4269" zz="5.4268" />
                        <controlpoint xx="-1.7132" yy="-9.2225" zz="1.3168" />
                        <controlpoint xx="3.5449" yy="0.1734" zz="-3.0947" />
                        <controlpoint xx="4.7785" yy="-4.6766" zz="-0.7630" />
                        <controlpoint xx="3.6957" yy="-9.1891" zz="-1.9738" />
                        <controlpoint xx="-0.7110" yy="-10.3187" zz="-6.9325" />
                    </nurbs>
                </primitive>
            </children>
        </node>

        <node id="statue_base">
            <transforms>
                <translate value3="0 -14 0" />
                <rotate value3="0 45 0" />
            </transforms>

            <materialref id="metalMat" />

            <children>
                <primitive>
                    <cylinder base="30" top="24" height="4.8" slices="4" stacks="1" />
                </primitive>
            </children>
        </node>

        <node id="statue_support">
            <transforms>
                <translate value3="0 -2 0" />
            </transforms>

            <materialref id="gridMat" />

            <children>
                <noderef id="statue_support_top" />
                <noderef id="statue_support_bottom" />
            </children>
        </node>

        <node id="statue_support_top">
            <transforms>
                <translate value3="0 6 0" />

            </transforms>


            <children>
                <primitive>
                    <cylinder base="3" top="0.01" height="6" slices="5" stacks="1" />
                </primitive>
            </children>
        </node>

        <node id="statue_support_bottom">
            <transforms>
                <translate value3="0 0 0" />
            </transforms>


            <children>
                <primitive>
                    <cylinder base="0.01" top="3" height="6" slices="5" stacks="1" />
                </primitive>
            </children>
        </node>

        <node id="statue_orb">
            <transforms>
                <translate value3="0 13 0" />
            </transforms>

            <materialref id="energyMat" />

            <children>
                <primitive>
                    <sphere radius="2.5" slices="35" stacks="35" />
                </primitive>
            </children>
        </node>


        <node id="controlTable">
            <transforms>

            </transforms>

            <materialref id="metalMat" />

            <children>
                <primitive>
                    <box xyz1="0.01 4.5 0.01" xyz2="30 5 6" />
                </primitive>

                <noderef id="holographic1" />
                <noderef id="holographic2" />

                <noderef id="controlTableLegs" />
            </children>
        </node>

        <node id="holographic1">
            <transforms>
                <translate value3="0.01 5.01 0.01" />
                <rotate value3="90 0 0" />
            </transforms>

            <materialref id="holoMat1" />


            <children>
                <primitive>
                    <rectangle xy1="0.01 0.01" xy2="15 6" />
                </primitive>
            </children>

        </node>


        <node id="holographic2">
            <transforms>
                <translate value3="0.01 5.01 0.01" />
                <rotate value3="90 0 0" />
            </transforms>

            <materialref id="holoMat2" />


            <children>
                <primitive>
                    <rectangle xy1="15.01 0.01" xy2="30 6" />
                </primitive>
            </children>

        </node>

        <node id="controlTableLegs">

            <transforms>
                <translate value3="29 2.5 5" />
            </transforms>


            <materialref id="metalMat" />

            <children>
                <primitive>
                    <cylinder base="0.2" top="0.35" height="4.3" slices="20" stacks="1" />
                </primitive>
            </children>

        </node>


        <node id="lights">
            <children>


                <spotlight id="light1" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="100.0"
                    distance="40"
                    decay="0.75"
                    castshadow="true"
                    position="19 25 19"
                    target="0 0 0"
                    penumbra="1"
                    angle="30"
                />

                <spotlight id="light2" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="100.0"
                    distance="40"
                    decay="0.75"
                    castshadow="true"
                    position="19 25 19"
                    target="0 0 40"
                    penumbra="1"
                    angle="30"
                />

                <spotlight id="light3" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="100.0"
                    distance="40"
                    decay="0.75"
                    castshadow="true"
                    position="19 25 19"
                    target="40 0 0"
                    penumbra="1.0"
                    angle="30"
                />


                <spotlight id="light4" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="100.0"
                    distance="40"
                    decay="0.75"
                    castshadow="true"
                    position="19 25 19"
                    target="40 0 40"
                    penumbra="1.0"
                    angle="30"
                />

                <spotlight id="light5" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="100.0"
                    distance="7"
                    decay="0.75"
                    castshadow="true"
                    position="19 14 19"
                    target="19 0 19"
                    penumbra="1.0"
                    angle="7"
                />


                <pointlight id="orb_light" enabled="true"
                    color="0.5 0.6 0.8 1"
                    intensity="500"
                    distance="15"
                    decay="1.5"
                    castshadow="false"
                    position="19 9 19"
                />


            </children>
        </node>

        <node id="room">
            <children>
                <noderef id="floor" />
                <noderef id="wall1" />
                <noderef id="wall2" />
                <!--              <noderef id="wall3" />
                <noderef id="wall4" /> 
                <noderef id="ceil" />-->
            </children>
        </node>

        <node id="wall1">
            <transforms>
                <translate value3="0 0 40" />
                <rotate value3="0.0 90 0.0" />
            </transforms>

            <materialref id="wallMat" />

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="40 20" />
                </primitive>
            </children>
        </node>

        <node id="wall2">
            <transforms>
            </transforms>

            <materialref id="wallMat" />

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="40 20" />
                </primitive>
            </children>
        </node>

        <node id="wall3">
            <transforms>
                <translate value3="0 0 40" />
                <rotate value3="0.0 0 0.0" />
            </transforms>

            <materialref id="wallMat" />

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="40 20" />
                </primitive>
            </children>
        </node>

        <node id="wall4">
            <transforms>
                <translate value3="40 0 0" />
                <rotate value3="0.0 -90 0.0" />
            </transforms>

            <materialref id="wallMat" />

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="40 20" />
                </primitive>
            </children>
        </node>


        <node id="floor">
            <transforms>
                <rotate value3="90 0 0" />
            </transforms>

            <materialref id="floorMat" />

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="40 40" />
                </primitive>
            </children>
        </node>

        <node id="ceil">
            <transforms>
                <translate value3="0 20 0" />
                <rotate value3="90.0 0 0.0" />
            </transforms>

            <materialref id="floorMat" />

            <children>
                <primitive>
                    <rectangle xy1="0 0" xy2="40 40" />
                </primitive>
            </children>
        </node>


        <!-- ============================================================ -->


    </graph>
</yaf> 